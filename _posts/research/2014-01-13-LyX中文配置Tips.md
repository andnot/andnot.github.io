---
layout: post
title: LyX中文配置 Tips
category: research
---



> 标*号为必配置项目，其余为建议配置的项目；没有提及的均可保持原始设置。

## 「文档」首选项
（全部设置完毕后点击「保存为文档缺省设定」）

- *「文档类」选「CTeX」；自定义填上「UTF8」；选中「对交叉引用使用refstyle，而不用prettyref」（因为后者对非英文缺乏支持）。

- *「模块」选项中添加「Theorems (AMS, Numbered by Type)」包，便于在论文中添加定理、证明等符合学界要求的论证格式环境；此处亦可添加按章节编号公式等配置。

- *「字体」，勾选「使用非TeX字体」，这样不会启用T1字体（CTeX不需要）；若使用T1字体，最好安装「cm-super」包，否则生成的PDF中字符为点阵字体且无法复制。

- *「语言」选项中选取「简体中文」；编码选「Unicode (XeTeX)(utf8)」（当选择「使用非TeX字体」后，此项变为不可更改）；语言包选「无」。

- 「PDF属性」选项，勾选「Use Hyperref...」；书签选中「生成书签」、「书签编号」、「打开标签」。

- *「数学选项」中勾选「amsmath」，则多行公式会自动调用align环境（LyX帮助文档推荐的格式）；其余勾选「自动加载」。

- 「浮动项放置方式」选项，默认放置，也可选取「此处优先」。

- *「输出」选项，默认输出格式选为「PDF(XeTeX)」。

- 「LaTeX导言区」填入：

```tex
% 重定义\nobreakspace命令，避免XeTeX出错（2.1.2版本后已不需要）
%\DeclareRobustCommand\nobreakspace{\leavevmode\nobreak\ }

% 解决pdflatex不支持插入eps图片问题
%\usepackage{epstopdf}
```

---

## 「工具」首选项

- *「外观」-「Document Handling」-「Backup & saving」，选取「备份文档」。

- 「外观」-「屏幕字体」，「缩放比例」调为150%；另外三种字体可调整为CMU系列，这样工作区中的显示字体就可与输出字体保持一致。

- *「外观」-「显示」，选中「显示图形」；即时预览「开」，则数学公式可以即时显示为TeX渲染后的样子；选中「Mark end...」以显示段落结束标记符。

- 「编辑」-「快捷键」，将`Ctrl+D`、`Ctrl+T`、`Alt+Up`、`Alt+Down`替换掉或去除（以免误按）。

- 「编辑」-「键盘/鼠标」，取消启用滚轮缩放（以免误按）。

- *「编辑」-「自动补全」，「公式内嵌」选中「自动完成」和「自动显示」，则在公式环境中按反斜杠键`\`输入LaTeX代码后可以快捷弹出对应符号；减小自动完成延时和气球延时（如分别设为0.1和0.2）；选中「即时显示自动完成气球」，则当文本右侧出现「>」小三角标识时，可以按`Tab`键弹出自动完成气球。

- *「编辑」-「路径」设定非系统盘工作目录和备份目录；临时目录最好不要修改；「路径前缀」添加一些必要的环境变量。

- 「语言设置」-「语言」，Language package 选「自动」（选「无」的话某些LyX自带的帮助文档将无法编译）。

---

> P.S. 
升级LyX仅需下载最新的LyX安装包（Installer，非Bundle；当首次安装LyX时才使用Bundle版），然后直接安装即可，期间注意选择正确的`latex.exe`路径（例如 `C:\Program Files (x86)\MiKTeX 2.9\miktex\bin`，此地址也可在「工具」首选项-「编辑」-「路径」-「路径前缀」中修改）；MiKTeX在安装时可能会提示更新某些LyX用到的包，建议更新；若手动更新了MiKTeX中的包，之后应在LyX的「工具」菜单中选「重配置」，然后重启LyX。
针对使用MiKTeX缺失package的问题，还有一个办法，就是换用Texlive，它几乎包含了所有的package，所以不必担心缺失的问题。它虽然体积有点大（安装包就有3GB），但对现在的电脑来说也不算什么。
另外，如果用MiKTeX的话，64位系统（现在都是了吧）一定要装64位版本的，这样编译速度比较快。而Texlive貌似在Windows下只有32位版本。
LyX的大版本更新后，配置文件可从`用户目录~\AppData\Roaming\LyX2.x\`中复制过来，包括`preference`和`user.bind`.
LyX在实际使用中的若干技巧可参考我总结的另一篇博文（长期更新）：<http://andnot.farbox.com/post/ke-yan-bi-ji/lyx-tips>。


